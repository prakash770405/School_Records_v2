<!DOCTYPE html>
<html lang="en">
<%- include('../includes/header') %>

<body class="bg-light">
  <%- include('../includes/navbar') %>
  <%- include('../includes/flash') %>

  <div class="container my-4">

    <!-- Header -->
    <div class="d-flex align-items-center gap-4 mb-4">
      <img 
        src="<%= student.img.url || '/images/default-user.png' %>" 
        alt="Student Photo"
        class="rounded-circle border"
        style="width: 120px; height: 120px; object-fit: cover;"
      >

      <div>
        <h3 class="mb-1 text-success"><%= student.name %></h3>
        <p class="mb-0 text-muted">
          Class <%= student.Class %> | Roll No <%= student.roll_no %>
        </p>
      </div>
    </div>

    <!-- Basic Info -->
    <div class="card mb-4 shadow-sm">
      <div class="card-body">
        <p><strong>Email:</strong> <%= student.email %></p>
        <p><strong>phone_no:</strong> <%= student.phone_no || "N/A" %></p>
      </div>
    </div>

    <!-- Subjects & Marks -->
    <div class="card shadow-sm">
      <div class="card-header fw-semibold">
        Subject Marks
      </div>

      <div class="card-body p-0">
        <% if (student.subjects && student.subjects.length > 0) { %>
          <table class="table table-striped mb-0">
            <thead class="table-light">
              <tr>
                <th>Subject</th>
                <th>Marks</th>
              </tr>
            </thead>
            <tbody>
              <% student.subjects.forEach(sub => { %>
                <tr>
                  <td><%= sub.name %></td>
                  <td><%= sub.marks %></td>
                </tr>
              <% }) %>
            </tbody>
          </table>
        <% } else { %>
          <p class="text-center text-muted py-3 mb-0">
            No subjects available
          </p>
        <% } %>
      </div>
    </div>

   

  </div>

  <%- include('../includes/footer') %>
</body>
</html>
